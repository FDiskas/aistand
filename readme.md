# Standup Summary CLI

A command-line tool to summarize your Git commits from the previous workday for your stand-up meetings using AI.

## Features

- ğŸ¤– AI-powered summarization using Google's Gemini API
- ğŸ“… Automatic date calculation for previous workday (handles weekends)
- ğŸ‘¤ Automatic Git user identification
- ï¿½ **Jira ticket extraction** from commit messages
- ğŸ“ **Full multiline commit message support**
- ï¿½ğŸ¯ Business-friendly summaries for non-technical audiences
- âš™ï¸ Flexible CLI options for customization

## Demo Mode

The tool includes a **demo mode** that works without an API key, perfect for testing and understanding the functionality:

```bash
aistand --verbose
```

In demo mode, you'll see:

- Your Git user information
- Date range calculation
- Raw commit messages (with `--verbose`)
- A simulated AI summary based on commit patterns

## Getting a Gemini API Key

1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Create a new API key
3. Set it as an environment variable:
   ```bash
   export GEMINI_API_KEY="your-api-key-here"
   ```
   Or pass it directly: `./index.js --api-key your-api-key-here`

## Usage

Run the tool from within your Git repository:

```bash
aistand [options]
```

### Options

- `-d, --date <date>`: Specify a particular date (YYYY-MM-DD) instead of previous workday
- `-p, --path <path>`: Path to Git repository (defaults to current directory)
- `-v, --verbose`: Show raw commit messages before summary
- `-k, --api-key <key>`: Gemini API key (can also be set as GEMINI_API_KEY env var)

### Examples

```bash
# Basic usage (previous workday)
aistand

# Specify a particular date
aistand --date 2024-01-15

# Use different repository
aistand --path /path/to/other/repo

# Show raw commits and summary
aistand --verbose

# Use API key directly
aistand --api-key your-api-key-here
```

## How it works

1. **Identifies Git User**: Gets your name and email from Git config
2. **Calculates Date Range**: Determines previous workday (skips weekends)
3. **Fetches Commits**: Uses `git log` to get your commits from that period
4. **AI Summarization**: Sends commits to Gemini API for business-friendly summary
5. **Displays Results**: Shows formatted summary ready for stand-up

## Example Output

### Demo Mode (No API Key)

```
ï¿½ Running in demo mode (no API key provided)
ğŸ’¡ To use AI summarization, set GEMINI_API_KEY environment variable or use --api-key

ï¿½ğŸ” Analyzing your Git repository...
ğŸ‘¤ User: John Doe <john.doe@company.com>
ğŸ“… Date range: 2025-09-09
ğŸ“ Found 3 commit(s)

ğŸ“‹ Raw commits:
1. refactor: optimize database query for user profile page
2. fix: resolve bug #123 where password reset fails
3. feat: implement user login endpoint with JWT auth

ğŸ¤– Generating AI summary...

==================================================
ğŸ“Š STAND-UP SUMMARY
==================================================
Yesterday, I...
- Improved code structure and performance
- Fixed bugs and resolved issues
- Implemented new features and functionality
==================================================
```

### With AI Summarization (API Key Provided)

When you provide a Gemini API key, the summary will be generated by AI and will be more detailed and contextually appropriate for your specific commits. The tool also extracts and displays any Jira tickets referenced in your commits.

```
ğŸ” Analyzing your Git repository...
ğŸ‘¤ User: John Doe <john.doe@company.com>
ğŸ“… Date range: 2025-09-11
ğŸ“ Found 2 commit(s)
ğŸ« Jira Tickets: PROJ-123, TICKET-456

ğŸ“‹ Raw commits:
1. fix: resolve authentication bug
   - Fixed login timeout issue
   - Improved error handling
   - Added retry mechanism
   Fixes PROJ-123
   Closes TICKET-456
2. feat: add user profile management
   - Add user profile creation endpoint
   - Implement profile update functionality
   - Add validation for profile fields
   Closes CC-1234

ğŸ¤– Generating AI summary...

==================================================
ğŸ“Š STAND-UP SUMMARY
==================================================
Yesterday, I...
- Resolved a critical authentication issue impacting user login (PROJ-123, TICKET-456)
- Implemented user profile management features (CC-1234)
==================================================
```

## Requirements

- Node.js (with Bun runtime)
- Git repository with commits
- Gemini API key
- Git user configured (`git config user.name` and `git config user.email`)

## Dependencies

- `@google/generative-ai`: For Gemini API integration
- `commander`: For CLI argument parsing
- `date-fns`: For date calculations
- `execa`: For running Git commands
